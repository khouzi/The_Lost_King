[gd_scene load_steps=13 format=2]

[ext_resource path="res://assets/map.png" type="Texture" id=1]
[ext_resource path="res://Player/Player.tscn" type="PackedScene" id=2]
[ext_resource path="res://World/Stairs.tscn" type="PackedScene" id=3]
[ext_resource path="res://NPC.tscn" type="PackedScene" id=4]
[ext_resource path="res://Camera2D.tscn" type="PackedScene" id=5]
[ext_resource path="res://UI/HealthUI.tscn" type="PackedScene" id=6]
[ext_resource path="res://World/Stairs.gd" type="Script" id=7]

[sub_resource type="ConvexPolygonShape2D" id=16]
points = PoolVector2Array( 0.36327, 154.959, 3.18962, 154.555, 6.15055, 150.114, 173.443, 152.133, 173.443, 147.691, 206.821, 149.845, 212.205, 151.864, 218.799, 151.729, 218.934, 150.114, 227.413, 149.845, 230.912, 151.998, 248.947, 152.133, 250.966, 150.114, 258.907, 149.845, 262.944, 152.267, 279.229, 152.806, 283.671, 150.518, 290.535, 150.249, 295.784, 152.94, 310.992, 152.537, 316.51, 150.383, 322.028, 150.518, 328.085, 152.537, 345.312, 152.133, 349.215, 149.71, 354.33, 149.979, 358.906, 151.998, 376.133, 152.537, 379.363, 150.249, 386.765, 149.979, 390.803, 151.594, 409.511, 151.729, 410.856, 149.979, 419.739, 149.979, 422.027, 151.864, 440.062, 152.133, 443.292, 150.114, 450.829, 149.979, 454.059, 151.729, 471.825, 151.864, 475.728, 149.979, 482.726, 150.114, 485.822, 151.729, 505.068, 151.998, 508.029, 150.114, 515.027, 149.845, 519.065, 152.267, 531.851, 152.267, 539.926, 150.249, 546.386, 149.71, 548.136, 152.133, 559.845, 152.133, 561.057, 150.114, 567.921, 149.979, 616.058, 149.926, 616.058, 126.037, 639.275, 126.696, 639.446, 166.405, 589.832, 166.792, 569.939, 166.668, 218.53, 168.014, 155.678, 161.689, 1.57457, 161.958 )

[sub_resource type="ConcavePolygonShape2D" id=17]
segments = PoolVector2Array( 635.618, 153.748, 636.964, 78.244, 636.964, 78.244, 639.521, 73.668, 639.521, 73.668, 642.213, 153.075, 642.213, 153.075, 635.618, 153.748 )

[sub_resource type="ConvexPolygonShape2D" id=18]
points = PoolVector2Array( 0.36327, 78.1094, 0.632442, 154.152, 0, 156.036, 0, 77.8402 )

[sub_resource type="ConcavePolygonShape2D" id=19]
segments = PoolVector2Array( 0.0940933, 64.1123, 66.4459, 63.8431, 66.4459, 63.8431, 67.9264, 77.7056, 67.9264, 77.7056, 63.2158, 82.0125, 63.2158, 82.0125, 67.2535, 91.0298, 67.2535, 91.0298, 65.773, 94.9329, 65.773, 94.9329, 81.9236, 95.0675, 81.9236, 95.0675, 87.0379, 93.7216, 87.0379, 93.7216, 88.6529, 86.723, 88.6529, 86.723, 92.6906, 86.9922, 92.6906, 86.9922, 95.1132, 82.9546, 95.1132, 82.9546, 100.766, 77.0327, 100.766, 77.0327, 103.592, 65.9965, 103.592, 65.9965, 433.736, 65.4581, 433.736, 65.4581, 435.89, 67.0732, 435.89, 67.0732, 435.89, 76.0906, 435.89, 76.0906, 433.198, 81.0703, 433.198, 81.0703, 429.699, 80.8012, 429.699, 80.8012, 430.237, 84.1659, 430.237, 84.1659, 461.865, 82.147, 461.865, 82.147, 475.055, 64.3814, 475.055, 64.3814, 567.517, 64.3814, 567.517, 64.3814, 632.818, 65.0824, 632.818, 65.0824, 638.167, 69.9663, 638.167, 69.9663, 637.934, 78.5714, 637.934, 78.5714, 570.209, 77.8402, 570.209, 77.8402, 468.864, 76.8981, 468.864, 76.8981, 462.269, 82.9546, 462.269, 82.9546, 429.564, 85.2426, 429.564, 85.2426, 428.622, 79.0515, 428.622, 79.0515, 418.932, 77.0327, 418.932, 77.0327, 102.65, 76.8981, 102.65, 76.8981, 95.1132, 84.8388, 95.1132, 84.8388, 93.0944, 87.9343, 93.0944, 87.9343, 89.7297, 87.5306, 89.7297, 87.5306, 87.7108, 94.5291, 87.7108, 94.5291, 83.0003, 95.7404, 83.0003, 95.7404, 64.5617, 95.6058, 64.5617, 95.6058, 66.0422, 91.1644, 66.0422, 91.1644, 62.0045, 82.0125, 62.0045, 82.0125, 66.7151, 77.1673, 66.7151, 77.1673, 0.22868, 77.1673, 0.22868, 77.1673, 0.0940933, 64.1123 )

[sub_resource type="TileSet" id=1]
0/name = "map.png 0"
0/texture = ExtResource( 1 )
0/tex_offset = Vector2( 0, 0 )
0/modulate = Color( 1, 1, 1, 1 )
0/region = Rect2( 0, 224, 704, 256 )
0/tile_mode = 0
0/occluder_offset = Vector2( 0, 0 )
0/navigation_offset = Vector2( 0, 0 )
0/shape_offset = Vector2( 0, 0 )
0/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
0/shape = SubResource( 16 )
0/shape_one_way = false
0/shape_one_way_margin = 1.0
0/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 16 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 17 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 18 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 19 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
0/z_index = 0

[node name="Node2D" type="Node2D"]
position = Vector2( 0, -9 )

[node name="TileMap" type="TileMap" parent="."]
position = Vector2( -1, 0 )
tile_set = SubResource( 1 )
format = 1
tile_data = PoolIntArray( 0, 0, 0 )

[node name="Player" parent="." instance=ExtResource( 2 )]
position = Vector2( 8, 109 )

[node name="Camera2D" parent="Player" instance=ExtResource( 5 )]
position = Vector2( 3, 3 )

[node name="bottomright" parent="Player/Camera2D/limits" index="1"]
position = Vector2( 704, 229 )

[node name="NPC" parent="." instance=ExtResource( 4 )]
position = Vector2( 628, 137 )

[node name="Stairs" parent="." instance=ExtResource( 3 )]
visible = false
position = Vector2( 627, 98 )
script = ExtResource( 7 )

[node name="Stairs2" parent="." instance=ExtResource( 3 )]
visible = false
position = Vector2( 627, 115 )
script = ExtResource( 7 )

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="HealthUI" parent="CanvasLayer" instance=ExtResource( 6 )]

[connection signal="body_entered" from="NPC" to="Player" method="_on_NPC_body_entered"]

[editable path="Player/Camera2D"]
